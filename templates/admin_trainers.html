{% extends "base_admin.html" %}{% set title="Formateurs" %}
{% block content %}
<div class="card">
  <h2>Créer un formateur</h2>
  <form method="post" action="{{ url_for('admin_trainers_create') }}">
    <div class="grid">
      <label>Nom<input name="last_name" required></label>
      <label>Prénom<input name="first_name" required></label>
    </div>
    <button type="submit">Créer</button>
  </form>
</div>

<div class="card">
  <h2>Liste</h2>
  <table><thead><tr><th>Nom</th><th>Prénom</th><th>Actif</th><th>Actions</th></tr></thead>
  <tbody>
    {% for t in trainers %}
    <tr>
      <td><form class="inline" method="post" action="{{ url_for('admin_trainers_update', trainer_id=t.id) }}">
        <input name="last_name" value="{{ t.last_name }}" required></td>
      <td><input name="first_name" value="{{ t.first_name }}" required></td>
      <td><input type="checkbox" name="is_active" {% if t.is_active %}checked{% endif %}></td>
      <td class="actions-col">
        <button type="submit">Mettre à jour</button></form>
        <form method="post" action="{{ url_for('admin_trainers_delete', trainer_id=t.id) }}" onsubmit="return confirm('Supprimer (ou désactiver si utilisé) ?');">
          <button type="submit" class="danger">Supprimer</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody></table>
</div>
{% endblock %}
